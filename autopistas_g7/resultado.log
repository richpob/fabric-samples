ubuntu@ubuntu:~/Documents/GitHub/hyperledger-fabric/fabric-samples/universidades_g7$ rm -rf organizations/peerOrganizations
rm -rf organizations/ordererOrganizations
rm -rf channel-artifacts/
mkdir channel-artifacts
ubuntu@ubuntu:~/Documents/GitHub/hyperledger-fabric/fabric-samples/universidades_g7$ export PATH=${PWD}/../bin:${PWD}:$PATH
export FABRIC_CFG_PATH=${PWD}/../config
ubuntu@ubuntu:~/Documents/GitHub/hyperledger-fabric/fabric-samples/universidades_g7$ cryptogen generate --config=./organizations/cryptogen/crypto-config-iebs.yaml --output="organizations"
cryptogen generate --config=./organizations/cryptogen/crypto-config-cantabria.yaml --output="organizations"
cryptogen generate --config=./organizations/cryptogen/crypto-config-orderer.yaml --output="organizations"
iebs.universidadesiebs.com
cantabria.universidadesiebs.com
ubuntu@ubuntu:~/Documents/GitHub/hyperledger-fabric/fabric-samples/universidades_g7$ docker-compose -f docker/docker-compose-universidades.yaml up -d
Creating couchdb1                      ... done
Creating orderer.universidadesiebs.com ... done
Creating couchdb0                      ... done
Creating peer0.cantabria.universidadesiebs.com ... done
Creating peer0.iebs.universidadesiebs.com      ... done
Creating cli                                   ... done
ubuntu@ubuntu:~/Documents/GitHub/hyperledger-fabric/fabric-samples/universidades_g7$ export FABRIC_CFG_PATH=${PWD}/configtx
ubuntu@ubuntu:~/Documents/GitHub/hyperledger-fabric/fabric-samples/universidades_g7$ configtxgen -profile UniversidadesGenesis -outputBlock ./channel-artifacts/universidadeschannel.block -channelID universidadeschannel
2024-06-25 10:08:50.561 -04 [common.tools.configtxgen] main -> INFO 001 Loading configuration
2024-06-25 10:08:50.565 -04 [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002 orderer type: etcdraft
2024-06-25 10:08:50.565 -04 [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003 Orderer.EtcdRaft.Options unset, setting to tick_interval:"500ms" election_tick:10 heartbeat_tick:1 max_inflight_blocks:5 snapshot_interval_size:16777216 
2024-06-25 10:08:50.565 -04 [common.tools.configtxgen.localconfig] Load -> INFO 004 Loaded configuration: /home/ubuntu/Documents/GitHub/hyperledger-fabric/fabric-samples/universidades_g7/configtx/configtx.yaml
2024-06-25 10:08:50.568 -04 [common.tools.configtxgen] doOutputBlock -> INFO 005 Generating genesis block
2024-06-25 10:08:50.568 -04 [common.tools.configtxgen] doOutputBlock -> INFO 006 Creating application channel genesis block
2024-06-25 10:08:50.568 -04 [common.tools.configtxgen] doOutputBlock -> INFO 007 Writing genesis block
ubuntu@ubuntu:~/Documents/GitHub/hyperledger-fabric/fabric-samples/universidades_g7$ export FABRIC_CFG_PATH=${PWD}/../config
export ORDERER_CA=${PWD}/organizations/ordererOrganizations/universidadesiebs.com/orderers/orderer.universidadesiebs.com/msp/tlscacerts/tlsca.universidadesiebs.com-cert.pem
export ORDERER_ADMIN_TLS_SIGN_CERT=${PWD}/organizations/ordererOrganizations/universidadesiebs.com/orderers/orderer.universidadesiebs.com/tls/server.crt
export ORDERER_ADMIN_TLS_PRIVATE_KEY=${PWD}/organizations/ordererOrganizations/universidadesiebs.com/orderers/orderer.universidadesiebs.com/tls/server.key
ubuntu@ubuntu:~/Documents/GitHub/hyperledger-fabric/fabric-samples/universidades_g7$ osnadmin channel join --channelID universidadeschannel --config-block ./channel-artifacts/universidadeschannel.block -o localhost:7053 --ca-file "$ORDERER_CA" --client-cert "$ORDERER_ADMIN_TLS_SIGN_CERT" --client-key "$ORDERER_ADMIN_TLS_PRIVATE_KEY"
Status: 201
{
        "name": "universidadeschannel",
        "url": "/participation/v1/channels/universidadeschannel",
        "consensusRelation": "consenter",
        "status": "active",
        "height": 1
}

ubuntu@ubuntu:~/Documents/GitHub/hyperledger-fabric/fabric-samples/universidades_g7$ osnadmin channel list -o localhost:7053 --ca-file "$ORDERER_CA" --client-cert "$ORDERER_ADMIN_TLS_SIGN_CERT" --client-key "$ORDERER_ADMIN_TLS_PRIVATE_KEY"
Status: 200
{
        "systemChannel": null,
        "channels": [
                {
                        "name": "universidadeschannel",
                        "url": "/participation/v1/channels/universidadeschannel"
                }
        ]
}

ubuntu@ubuntu:~/Documents/GitHub/hyperledger-fabric/fabric-samples/universidades_g7$ export CORE_PEER_TLS_ENABLED=true
export PEER0_IEBS_CA=${PWD}/organizations/peerOrganizations/iebs.universidadesiebs.com/peers/peer0.iebs.universidadesiebs.com/tls/ca.crt
export CORE_PEER_LOCALMSPID="IebsMSP"
export CORE_PEER_TLS_ROOTCERT_FILE=$PEER0_IEBS_CA
export CORE_PEER_MSPCONFIGPATH=${PWD}/organizations/peerOrganizations/iebs.universidadesiebs.com/users/Admin@iebs.universidadesiebs.com/msp
export CORE_PEER_ADDRESS=localhost:7051
peer channel join -b ./channel-artifacts/universidadeschannel.block
2024-06-25 10:09:41.411 -04 [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
2024-06-25 10:09:41.459 -04 [channelCmd] executeJoin -> INFO 002 Successfully submitted proposal to join channel
ubuntu@ubuntu:~/Documents/GitHub/hyperledger-fabric/fabric-samples/universidades_g7$ #Paso 10: Adherir Org2 al Orderer
export PEER0_CANTABRIA_CA=${PWD}/organizations/peerOrganizations/cantabria.universidadesiebs.com/peers/peer0.cantabria.universidadesiebs.com/tls/ca.crt
export CORE_PEER_LOCALMSPID="CantabriaMSP"
export CORE_PEER_TLS_ROOTCERT_FILE=$PEER0_CANTABRIA_CA
export CORE_PEER_MSPCONFIGPATH=${PWD}/organizations/peerOrganizations/cantabria.universidadesiebs.com/users/Admin@cantabria.universidadesiebs.com/msp
export CORE_PEER_ADDRESS=localhost:9051
peer channel join -b ./channel-artifacts/universidadeschannel.block
2024-06-25 10:09:53.623 -04 [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
2024-06-25 10:09:53.673 -04 [channelCmd] executeJoin -> INFO 002 Successfully submitted proposal to join channel
ubuntu@ubuntu:~/Documents/GitHub/hyperledger-fabric/fabric-samples/universidades_g7$ 
